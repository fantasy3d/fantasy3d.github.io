import{_ as o}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as c,o as l,c as i,f as u,w as a,d as n,e as s,g as r}from"./app-90aa8SoW.js";const k="/assets/image/fantasy-quick-start.jpg",d={},m=n("p",null,"本教程将会指引你如何使用Fantasy 3D开发项目。",-1),v=n("h2",{id:"安装",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#安装","aria-hidden":"true"},"#"),s(" 安装")],-1),b=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[s(`// 安装核心包
`),n("span",{class:"token function"},"npm"),s(` i @fantasy3d/core

// 安装插件包
`),n("span",{class:"token function"},"npm"),s(` i @fantasy3d/addons
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),g=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[s(`// 安装核心包
`),n("span",{class:"token function"},"yarn"),s(),n("span",{class:"token function"},"add"),s(` @fantasy3d/core

// 安装插件包
`),n("span",{class:"token function"},"yarn"),s(),n("span",{class:"token function"},"add"),s(` @fantasy3d/addons
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),y=r(`<div class="hint-container warning"><p class="hint-container-title">注意</p><p>由于three.js被当做peerDependencies依赖，而yarn不会自动安装peerDependencies中的依赖， 所以需要手动安装three.js依赖且版本需要&gt;=0.161.0。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> three@0.161.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><h2 id="使用" tabindex="-1"><a class="header-anchor" href="#使用" aria-hidden="true">#</a> 使用</h2><ul><li><strong>设置渲染视口</strong></li></ul><p>在HTML中插入一个div标签：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 100%</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>确保 div 元素的宽度和高度大于零，以确保其内容能够正确渲染！</p></div><ul><li><strong>创建引擎</strong></li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Engine <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fantasy3d/core&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// 创建引擎</span>
<span class="token keyword">const</span> engine <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Engine</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>

    <span class="token comment">// WebGL Options</span>
    gl<span class="token operator">:</span> <span class="token punctuation">{</span>

        viewport<span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">&#39;viewport&#39;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 渲染视口</span>
        clearColor<span class="token operator">:</span> <span class="token string">&#39;orange&#39;</span> <span class="token comment">// 背景颜色</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>创建场景</strong></li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Scene<span class="token punctuation">,</span> SceneRenderer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fantasy3d/core&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// 创建场景</span>
<span class="token keyword">const</span> scene <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scene</span><span class="token punctuation">(</span> engine <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 设置场景渲染器</span>
scene<span class="token punctuation">.</span>sceneRenderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SceneRenderer</span><span class="token punctuation">(</span> engine <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>创建相机</strong></li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Vector3 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;three&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> OrbitController <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fantasy3d/addons&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// 创建一个透视相机</span>
<span class="token keyword">const</span> camera <span class="token operator">=</span> scene<span class="token punctuation">.</span><span class="token function">createPerspectiveCamera</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>

    <span class="token comment">// 相机方位属性</span>
    transform<span class="token operator">:</span> <span class="token punctuation">{</span>

        position<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">5.0</span><span class="token punctuation">,</span> <span class="token number">5.0</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
        lookAt<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span> <span class="token punctuation">)</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// 相机属性</span>
    camera<span class="token operator">:</span> <span class="token punctuation">{</span> near<span class="token operator">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span> far<span class="token operator">:</span> <span class="token number">100.0</span> <span class="token punctuation">}</span>

<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 添加一个相机控制器组件</span>
camera<span class="token punctuation">.</span><span class="token function">addComponent</span><span class="token punctuation">(</span> OrbitController<span class="token punctuation">,</span> <span class="token punctuation">{</span> damping<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>添加灯光</strong></li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> AmbientLight<span class="token punctuation">,</span> DirectionalLight <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fantasy3d/core&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// 获取场景根实体</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> rootEntity <span class="token punctuation">}</span> <span class="token operator">=</span> scene<span class="token punctuation">;</span>

<span class="token comment">// 添加一个环境光到场景根实体</span>
rootEntity<span class="token punctuation">.</span><span class="token function">addComponent</span><span class="token punctuation">(</span> AmbientLight<span class="token punctuation">,</span> <span class="token punctuation">{</span> intensity<span class="token operator">:</span> <span class="token number">0.25</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 添加一个方向光到场景根实体</span>
rootEntity<span class="token punctuation">.</span><span class="token function">addComponent</span><span class="token punctuation">(</span> DirectionalLight<span class="token punctuation">,</span> <span class="token punctuation">{</span>

    intensity<span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span>
    position<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span> <span class="token number">20.0</span><span class="token punctuation">,</span> <span class="token number">20.0</span><span class="token punctuation">,</span> <span class="token number">20.0</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    target<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span> <span class="token punctuation">)</span>

<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>创建一个立方体</strong></li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> BoxGeometry<span class="token punctuation">,</span> Euler<span class="token punctuation">,</span> Mesh<span class="token punctuation">,</span> MeshLambertMaterial<span class="token punctuation">,</span> Vector3 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;three&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MeshRenderer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fantasy3d/core&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// 创建一个子实体</span>
<span class="token keyword">const</span> entity <span class="token operator">=</span> rootEntity<span class="token punctuation">.</span><span class="token function">createChild</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>

    transform<span class="token operator">:</span> <span class="token punctuation">{</span>

        position<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
        rotation<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Euler</span><span class="token punctuation">(</span> <span class="token number">0.0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">4.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span> <span class="token punctuation">)</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 添加一个MeshRenderer组件</span>
entity<span class="token punctuation">.</span><span class="token function">addComponent</span><span class="token punctuation">(</span> MeshRenderer<span class="token punctuation">,</span> <span class="token punctuation">{</span>

    mesh<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Mesh</span><span class="token punctuation">(</span>

        <span class="token keyword">new</span> <span class="token class-name">BoxGeometry</span><span class="token punctuation">(</span> <span class="token number">4.0</span><span class="token punctuation">,</span> <span class="token number">4.0</span><span class="token punctuation">,</span> <span class="token number">4.0</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">MeshLambertMaterial</span><span class="token punctuation">(</span> <span class="token punctuation">{</span> color<span class="token operator">:</span> <span class="token string">&#39;lightblue&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span>

    <span class="token punctuation">)</span>

<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>完整代码：</strong></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Quick Start<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
   <span class="token selector">html</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 
   <span class="token selector">body</span>
   <span class="token punctuation">{</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> Monospace<span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span>100%</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./js/loadscripts.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token function">loadscripts</span><span class="token punctuation">(</span> <span class="token punctuation">{</span> 
        
        <span class="token string-property property">&quot;@fantasy3d/core&quot;</span><span class="token operator">:</span> <span class="token string">&quot;../dist/fantasy.core.js&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;@fantasy3d/addons&quot;</span><span class="token operator">:</span> <span class="token string">&quot;../dist/fantasy.addons.js&quot;</span>
        
    <span class="token punctuation">}</span> <span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">import</span> <span class="token punctuation">{</span> BoxGeometry<span class="token punctuation">,</span> Euler<span class="token punctuation">,</span> Mesh<span class="token punctuation">,</span> MeshLambertMaterial<span class="token punctuation">,</span> Vector3 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;three&#39;</span><span class="token punctuation">;</span>
        <span class="token keyword">import</span> <span class="token punctuation">{</span> AmbientLight<span class="token punctuation">,</span> DirectionalLight<span class="token punctuation">,</span> Engine<span class="token punctuation">,</span> MeshRenderer<span class="token punctuation">,</span> Scene<span class="token punctuation">,</span> SceneRenderer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fantasy3d/core&#39;</span><span class="token punctuation">;</span>
        <span class="token keyword">import</span> <span class="token punctuation">{</span> OrbitController <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@fantasy3d/addons&#39;</span><span class="token punctuation">;</span>

        <span class="token comment">// 创建引擎</span>
        <span class="token keyword">const</span> engine <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Engine</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>

            <span class="token comment">// WebGL Options</span>
            <span class="token literal-property property">gl</span><span class="token operator">:</span> <span class="token punctuation">{</span>

                <span class="token literal-property property">viewport</span><span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">&#39;viewport&#39;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 渲染视口</span>
                <span class="token literal-property property">clearColor</span><span class="token operator">:</span> <span class="token string">&#39;orange&#39;</span> <span class="token comment">// 背景颜色</span>

            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 创建场景</span>
        <span class="token keyword">const</span> scene <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scene</span><span class="token punctuation">(</span> engine <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 设置场景渲染器</span>
        scene<span class="token punctuation">.</span>sceneRenderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SceneRenderer</span><span class="token punctuation">(</span> engine <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 创建一个透视相机</span>
        <span class="token keyword">const</span> camera <span class="token operator">=</span> scene<span class="token punctuation">.</span><span class="token function">createPerspectiveCamera</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>

            <span class="token comment">// 相机方位属性</span>
            <span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token punctuation">{</span>

                <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">5.0</span><span class="token punctuation">,</span> <span class="token number">5.0</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token literal-property property">lookAt</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span> <span class="token punctuation">)</span>

            <span class="token punctuation">}</span><span class="token punctuation">,</span>

            <span class="token comment">// 相机属性</span>
            <span class="token literal-property property">camera</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">near</span><span class="token operator">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token literal-property property">far</span><span class="token operator">:</span> <span class="token number">100.0</span> <span class="token punctuation">}</span>

        <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 添加一个相机控制器组件</span>
        camera<span class="token punctuation">.</span><span class="token function">addComponent</span><span class="token punctuation">(</span> OrbitController<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">damping</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取场景根实体</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> rootEntity <span class="token punctuation">}</span> <span class="token operator">=</span> scene<span class="token punctuation">;</span>

        <span class="token comment">// 添加一个环境光到场景根实体</span>
        rootEntity<span class="token punctuation">.</span><span class="token function">addComponent</span><span class="token punctuation">(</span> AmbientLight<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">intensity</span><span class="token operator">:</span> <span class="token number">0.25</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 添加一个方向光到场景根实体</span>
        rootEntity<span class="token punctuation">.</span><span class="token function">addComponent</span><span class="token punctuation">(</span> DirectionalLight<span class="token punctuation">,</span> <span class="token punctuation">{</span>

            <span class="token literal-property property">intensity</span><span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span>
            <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span> <span class="token number">20.0</span><span class="token punctuation">,</span> <span class="token number">20.0</span><span class="token punctuation">,</span> <span class="token number">20.0</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span> <span class="token punctuation">)</span>

        <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 创建一个子实体</span>
        <span class="token keyword">const</span> entity <span class="token operator">=</span> rootEntity<span class="token punctuation">.</span><span class="token function">createChild</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>

            <span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token punctuation">{</span>

                <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token literal-property property">rotation</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Euler</span><span class="token punctuation">(</span> <span class="token number">0.0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">4.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span> <span class="token punctuation">)</span>

            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 添加一个MeshRenderer组件</span>
        entity<span class="token punctuation">.</span><span class="token function">addComponent</span><span class="token punctuation">(</span> MeshRenderer<span class="token punctuation">,</span> <span class="token punctuation">{</span>

            <span class="token literal-property property">mesh</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Mesh</span><span class="token punctuation">(</span>

                <span class="token keyword">new</span> <span class="token class-name">BoxGeometry</span><span class="token punctuation">(</span> <span class="token number">4.0</span><span class="token punctuation">,</span> <span class="token number">4.0</span><span class="token punctuation">,</span> <span class="token number">4.0</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">MeshLambertMaterial</span><span class="token punctuation">(</span> <span class="token punctuation">{</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;lightblue&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span>

            <span class="token punctuation">)</span>

        <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>loadscripts.js文件实现代码如下：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> version <span class="token operator">=</span> <span class="token string">&quot;0.161.0&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> threeImportmap <span class="token operator">=</span> <span class="token punctuation">{</span>

	<span class="token string-property property">&quot;three&quot;</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">https://unpkg.com/three@</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>version<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/build/three.module.js</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
	<span class="token string-property property">&quot;three/examples/jsm/&quot;</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">https://unpkg.com/three@</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>version<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/examples/jsm/</span><span class="token template-punctuation string">\`</span></span>

<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">loadscripts</span><span class="token punctuation">(</span> <span class="token parameter">inputImports</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// Import maps polyfill</span>
	<span class="token comment">// Remove this when import maps will be widely supported</span>
	<span class="token keyword">const</span> script_shims <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&#39;script&#39;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	script_shims<span class="token punctuation">.</span>async <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	script_shims<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&#39;./js/libs/es-module-shims.js&#39;</span><span class="token punctuation">;</span>
	document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> script_shims <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> imports <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span> inputImports<span class="token punctuation">,</span> threeImportmap <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> scirpt_importmap <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&#39;script&#39;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	scirpt_importmap<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;importmap&#39;</span><span class="token punctuation">;</span>
	scirpt_importmap<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">{
       &quot;imports&quot;: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span> imports <span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
   }</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
	document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> scirpt_importmap <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p><strong>最终效果：</strong></p><figure><img src="`+k+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>',21);function h(w,f){const e=c("CodeTabs");return l(),i("div",null,[m,v,u(e,{id:"6",data:[{id:"npm"},{id:"yarn"}],"tab-id":"shell"},{title0:a(({value:t,isActive:p})=>[s("npm")]),title1:a(({value:t,isActive:p})=>[s("yarn")]),tab0:a(({value:t,isActive:p})=>[b]),tab1:a(({value:t,isActive:p})=>[g]),_:1}),y])}const x=o(d,[["render",h],["__file","quick_start.html.vue"]]);export{x as default};
